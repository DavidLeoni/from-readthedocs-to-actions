# action.yml
name: 'Sphinx Docs build in Github Actions with ReadTheDocs Docker'
description: 'Tries to reproduce build in Githhub Actions with the same environment as in ReadTheDocs server. Also useful for local build.'
inputs:
  rtd_prj_name: 
    description: |
      ReadTheDocs project name - also used as name for pdfs and epubs. 
      NOTE: you don't need to actually have a project on readthedocs servers!    
    default: 'myproject'
    required: true
  git_url:
    description: 'Full git url to clone the repo'
    required: true
  git_tag:
    description: 'tag or branch'    
    default: master
    required: false
  version:
    description: 'version as named on the website'    
    default: latest  
    required: false
  requirements: 
    description: 'requirements file for pip install'    
    default: 'requirements.txt'
  language: 
    description: 'Documentation language'    
    default: 'en'
    required: false
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.rtd_prj_name }}
    - ${{ inputs.git_url }}
    - ${{ inputs.git_tag }}
    - ${{ inputs.version }}
    - ${{ inputs.requirements }}
    - ${{ inputs.language }}
    